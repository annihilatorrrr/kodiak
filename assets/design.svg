<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="467pt" height="872" viewBox="0 0 467 654.27"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 650.2744)"><title>Kodiak</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -650.274 463 -650.274 463 4 -4 4"/><g id="clust1" class="cluster"><title>cluster_kodiak</title><polygon fill="none" stroke="#000" points="8 -8 8 -638.274 451 -638.274 451 -8 8 -8"/><text x="229.5" y="-623.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Kodiak</text></g><g id="node1" class="node"><title>GitHub</title><ellipse cx="249" cy="-318.637" fill="none" stroke="#000" rx="36.761" ry="36.761"/><ellipse cx="249" cy="-318.637" fill="none" stroke="#000" rx="40.775" ry="40.775"/><text x="249" y="-314.437" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">GitHub</text></g><g id="node2" class="node"><title>HTTP Webhook</title><ellipse cx="197" cy="-158" fill="none" stroke="#000" rx="67.748" ry="18"/><text x="197" y="-153.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">HTTP Webhook</text></g><g id="edge1" class="edge"><title>GitHub-&gt;HTTP Webhook</title><path fill="none" stroke="#000" d="M236.4123,-279.7514C227.0187,-250.7332 214.4088,-211.7789 206.0087,-185.8294"/><polygon fill="#000" stroke="#000" points="209.313 -184.673 202.903 -176.237 202.653 -186.828 209.313 -184.673"/><text x="259.877" y="-222.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">HTTP events</text></g><g id="node3" class="node"><title>Redis</title><path fill="none" stroke="#000" d="M81,-48.7273C81,-50.5331 68.8982,-52 54,-52 39.1018,-52 27,-50.5331 27,-48.7273 27,-48.7273 27,-19.2727 27,-19.2727 27,-17.4669 39.1018,-16 54,-16 68.8982,-16 81,-17.4669 81,-19.2727 81,-19.2727 81,-48.7273 81,-48.7273"/><path fill="none" stroke="#000" d="M81,-48.7273C81,-46.9214 68.8982,-45.4545 54,-45.4545 39.1018,-45.4545 27,-46.9214 27,-48.7273"/><text x="54" y="-29.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Redis</text></g><g id="edge2" class="edge"><title>HTTP Webhook-&gt;Redis</title><path fill="none" stroke="#000" d="M177.1165,-140.7583C152.3902,-119.3174 110.0293,-82.5848 82.02,-58.297"/><polygon fill="#000" stroke="#000" points="84.024 -55.402 74.176 -51.495 79.438 -60.691 84.024 -55.402"/><text x="188.95" y="-91.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">write event to queue</text></g><g id="node4" class="node"><title>Repo Queue Worker</title><ellipse cx="329" cy="-452.274" fill="none" stroke="#000" rx="82.344" ry="18"/><text x="329" y="-448.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Repo Queue Worker</text></g><g id="edge4" class="edge"><title>Repo Queue Worker-&gt;GitHub</title><path fill="none" stroke="#000" d="M318.2108,-434.2515C307.2332,-415.9138 289.8017,-386.795 275.1795,-362.3691"/><polygon fill="#000" stroke="#000" points="278.076 -360.393 269.937 -353.611 272.07 -363.989 278.076 -360.393"/></g><g id="edge3" class="edge"><title>Repo Queue Worker-&gt;Redis</title><path fill="none" stroke="#000" d="M334.5,-433.9544C337.25,-423.2227 340,-409.3477 340,-396.7744 340,-396.7744 340,-396.7744 340,-96 340,-70.8586 169.017,-47.5298 91.4601,-38.2411"/><polygon fill="#000" stroke="#000" points="91.506 -34.722 81.164 -37.025 90.684 -41.674 91.506 -34.722"/><text x="391.454" y="-229.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">pull off mergeable</text><text x="391.454" y="-215.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">PRs and merge</text></g><g id="node5" class="node"><title>Async Worker</title><ellipse cx="157" cy="-452.274" fill="none" stroke="#000" rx="61.121" ry="18"/><text x="157" y="-448.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Async Worker</text></g><g id="edge5" class="edge"><title>Async Worker-&gt;GitHub</title><path fill="none" stroke="#000" d="M169.2169,-434.5284C182.1153,-415.7925 202.9116,-385.5843 220.0382,-360.7065"/><polygon fill="#000" stroke="#000" points="223.137 -362.378 225.924 -352.157 217.371 -358.409 223.137 -362.378"/></g><g id="edge6" class="edge"><title>Async Worker-&gt;Redis</title><path fill="none" stroke="#000" d="M160.7243,-434.1378C166.6189,-400.2795 174.3628,-326.5002 142,-278 122.2271,-248.3675 94.3809,-267.7876 70.8975,-241 56.4022,-224.4652 54,-216.4889 54,-194.5 54,-194.5 54,-194.5 54,-96 54,-85.0553 54,-73.0239 54,-62.4955"/><polygon fill="#000" stroke="#000" points="57.5 -62.176 54 -52.177 50.5 -62.177 57.5 -62.176"/><text x="140.051" y="-229.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">write any mergeable PRs</text><text x="140.051" y="-215.8" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">to per repo queue</text></g><g id="node6" class="node"><title>Event Queue Worker</title><ellipse cx="128" cy="-590.274" fill="none" stroke="#000" rx="84.265" ry="18"/><text x="128" y="-586.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Event Queue Worker</text></g><g id="edge7" class="edge"><title>Event Queue Worker-&gt;Redis</title><path fill="none" stroke="#000" d="M81,-575.2088C57.5,-564.4369 34,-547.1869 34,-521.2744 34,-521.2744 34,-521.2744 34,-377.7744 34,-295.9695 17,-276.305 17,-194.5 17,-194.5 17,-194.5 17,-96 17,-83.0734 23.0041,-70.5003 30.1751,-60.0936"/><polygon fill="#000" stroke="#000" points="33.129 -61.989 36.367 -51.901 27.545 -57.769 33.129 -61.989"/><text x="84.905" y="-321.437" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">Left blocking pop</text><text x="84.905" y="-307.437" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">from event queue</text></g><g id="edge8" class="edge"><title>Event Queue Worker-&gt;Async Worker</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M131.7912,-572.2333C136.7195,-548.7818 145.3766,-507.5856 151.1501,-480.112"/><polygon fill="#000" stroke="#000" points="154.576 -480.826 153.208 -470.32 147.726 -479.386 154.576 -480.826"/><text x="194.167" y="-524.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">create async task</text><text x="194.167" y="-510.074" fill="#000" font-family="Times,serif" font-size="14" text-anchor="middle">for each event</text></g></g></svg>